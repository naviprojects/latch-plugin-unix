.TH "PAM_LATCH" "8" "08/01/2015" "Latch-PAM Manual" "Latch\-PAM Manual"
.
.
.SH "NAME"
pam_latch \- PAM module to protect authentication with latch
.
.
.SH "SYNOPSIS"
\fBpam_latch.so\fR config=\fICONFIG_FILE\fR accounts=\fIACCOUNTS_FILE\fR operation=\fIOPERATION_ALIAS\fR [otp=\fIyes\fR|\fIno\fR]
.
.
.SH "DESCRIPTION"
.PP
This provides the PAM module needed to interact with Latch Servers.
.PP
A helper binary,
\fBlatch\fR(8), is provided to pair and unpair user accounts with Latch, and also check their status with Latch Servers.
.
.
.SH "OPTIONS"
.PP
\fBconfig=\fR\fB\fI/path/to/latch.conf\fR\fR
.RS 4
Indicate an alternative latch.conf configuration file to override the default. This can be useful when different services need different environments.
.RE
.PP
\fBaccounts=\fR\fB\fI/path/to/latch.accounts\fR\fR
.RS 4
Indicate an alternative latch.accounts accounts file to override the default. This can be useful when different services need different environments.
.RE
.PP
\fBoperation=\fR\fB\fIOPERATION_ALIAS\fR\fR
.RS 4
The default action of this module is to not permit the user access to a service if their official password is blank\&. The
\fBotp\fR
argument overrides this default and allows any user with a blank password to access the service\&.
.RE
.PP
\fBotp=\fR\fB\fIyes|no\fR\fR
.RS 4
Turns on or off the reading of the file specified by envfile (0 is off, 1 is on)\&. By default this option is on\&.
.RE
.
.
.SH "MODULE TYPES PROVIDED"
.PP
Only module type \fBauth\fR is provided.
.
.
.SH "RETURN VALUES"
.PP
PAM_AUTH_ERR
.RS 4
Latch closed.
.RE
.PP
PAM_SUCCESS
.RS 4
Latch open.
.RE
.
.
.SH "EXAMPLES"
.PP
An example usage for
/etc/pam\&.d/gdm3
would be:
.sp
.if n \{\
.RS 4
.\}
.nf
#%PAM-1.0
auth    requisite       pam_nologin.so
auth	required	pam_succeed_if.so user != root quiet_success
@include common-auth
auth	required	pam_latch.so config=/etc/latch/latch.conf accounts=/etc/latch/latch.accounts operation=login otp=yes
auth    optional        pam_gnome_keyring.so   
.fi
.if n \{\
.RE
.\}
.sp
.
.
.SH "AUTHOR"
.PP
pam_unix was written by ElevenPaths.
.
.
.SH SUPPORT
Report latch bugs to latch-help@support.elevenpaths.com
.br
For more information, <https://latch.elevenpaths.com/>
.
.
.SH COPYRIGHT
Copyright \(co 2015 Eleven Paths. License LGPL-2.1: GNU Lesser General Public License version 2.1.
.br
This program is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.
.
.
.SH "SEE ALSO"
.PP
\fBlatch\fR(8),
\fBpam.d\fR(5)
